<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Tiling in XFCE | Sjaak van den Berg</title><meta name="description" content="A Python script to improve XFCE with custom tiling."><meta name="generator" content="Sjaak van den Berg"><meta name="author" content="Sjaak van den Berg"><meta name="keywords" content="sjaak van den berg, svdb, bitcoin, crypto, payment, integration, bitcoins, wordpress, betaling, webshop, front end, design, ontwerp, developer"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160x160.png"><link rel="icon" type="image/png" sizes="192x192" href="/images/favicon-192x192.png"><meta name="msapplication-TileColor" content="#121315"><meta name="msapplication-TileImage" content="/images/mstile-144x144.png"><link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml"></head><body itemscope itemtype="https://schema.org/WebPage"><header itemscope itemtype="https://schema.org/WPHeader"><a href="/"><img src="/images/svdb.png" alt="Sjaak van den Berg" title="Sjaak van den Berg"></a><h1><a href="/" alt="Sjaak van den Berg" title="Sjaak van den Berg" itemprop="headline">Sjaak van den Berg</a></h1><p itemprop="description">My name is <span itemprop='author' itemscope itemtype='https://schema.org/Person'>Sjaak van den Berg</span> and I'm a developer working with Ruby and JavaScript. You can reach me on Twitter via <a href='https://twitter.com/svdb' alt='@svdb on Twitter' title='@svdb on Twitter'>@svdb</a>.</p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/" alt="Home" title="Home" itemprop="url">Home</a></li><li itemprop="name"><a href="/articles" alt="Articles" title="Articles" itemprop="url">Articles</a></li><li itemprop="name"><a href="/newsletter" alt="Newsletter" title="Newsletter" itemprop="url">Newsletter</a></li><li itemprop="name"><a href="/about" alt="About" title="About" itemprop="url">About</a></li></ul></nav><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline">Tiling in XFCE</h1><span class="post-meta">Published on<time itemprop="datePublished" datetime="2015-07-19T07:44:40.000Z"> Sunday, July 19th 2015 at 9:44</time><br>Last updated on<time itemprop="dateModified" datetime="2015-07-19T07:44:40.000Z"> Thursday, December 24th 2015 at 13:46</time></span><img class="noshadow" src="/articles/2015/07/19/tiling-in-xfce/xfce-mouse.svg" alt="XFCE logo" title="XFCE logo"><blockquote><p>Xfce is a lightweight desktop environment for UNIX-like operating systems. It aims to be fast and low on system resources, while still being visually appealing and user friendly.</p></blockquote><p>XFCE is awesome, and it has thousands of <a href="https://wiki.xfce.org/howto/install_new_themes" target="_blank" rel="external">themes</a> to allow you to make it look just the way you want it to. It’s not as heavy on resources as <a href="https://www.gnome.org/gnome-3/" target="_blank" rel="external">Gnome 3</a>, and not as nimble as <a href="http://openbox.org/wiki/Main_Page" target="_blank" rel="external">Openbox</a>, but for me it strikes the perfect balance between aesthetics and performance.</p><p>XFCE is a stacking window manager, that treats windows like pieces of paper that can be stacked, like in Microsoft Windows or Apple Mac OS. There are also tiling window managers that are much lower on resources but usually don’t offer the aesthetics of a stacking WM. ArchWiki has an extensive <a href="https://wiki.archlinux.org/index.php/Window_manager" target="_blank" rel="external">list</a>.</p><h2 id="custom-tiling-in-a-stacking-wm">Custom Tiling in a Stacking WM</h2><p>While Gnome does offer tiling extensions, I don’t want that high of a resource burden. I like XFCE just fine, but the tiling features that it offers are a little lacking. XFCE 4.12 did introduce quarter screen corner tiling in addition to half screen tiling, but I’d like to define my own grid. On my laptop, I’d like to have my editor take up as much space as it needs for me to have a 100 character line length, and the rest is for my terminal. And I want to be able to tile or un-tile my windows to my grid using hotkeys. And I have no need for window decorations once a window is tiled, but want them back sometimes when it isn’t.</p><h2 id="python-to-the-rescue">Python to the Rescue</h2><img src="/articles/2015/07/19/tiling-in-xfce/tiling.png" alt="tiling.py" title="tiling.py"><p>I’ve written a <a href="https://github.com/sjaakvandenberg/gtk-tiling" target="_blank" rel="external">Python script</a> that does exactly that. Here is the grid I’ve defined in the XFCE Settings Editor under <code>xfce4-keyboard-shortcuts</code>.</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Property             Value</span><br><span class="line"><span class="section">/commands/custom/... /home/user/Scripts/...</span><br><span class="line">------------------------------------------------</span></span><br><span class="line">&lt;Super&gt;Up            tiling.py 100 70 0 0 -d 0</span><br><span class="line">&lt;Super&gt;Down          tiling.py 100 30 0 70 -d 0</span><br><span class="line">&lt;Super&gt;Left          tiling.py 60 100 0 0 -d 0</span><br><span class="line">&lt;Super&gt;Right         tiling.py 40 100 0 60 -d 0</span><br><span class="line">&lt;Super&gt;&lt;Alt&gt;Page_Up  tiling.py 28 50 0 0 -d 0</span><br><span class="line">&lt;Super&gt;&lt;Alt&gt;Left     tiling.py 28 50 0 50 -d 0</span><br><span class="line">&lt;Super&gt;Page_Up       tiling.py 28 100 0 0 -d 0</span><br><span class="line">&lt;Super&gt;Page_Down     tiling.py 72 100 28 0 -d 0</span><br><span class="line">&lt;Super&gt;&lt;Alt&gt;Up       tiling.py 74 74 13 13 -d 1</span><br><span class="line">&lt;Super&gt;&lt;Alt&gt;Down     tiling.py 100 100 0 0 -d 1</span><br></pre></td></tr></table></figure><p>This gives me the following setup on my 1366 x 768 laptop:</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">. . 400px . . . . . . . . . . 966px . . . . . . . .</span><br><span class="line">.             .                                   .</span><br><span class="line">.             .                                   .</span><br><span class="line">.  terminal   .              editor               .</span><br><span class="line">. 28% x 100%  .            72% x 100%             .</span><br><span class="line">.             .                                   .</span><br><span class="line">.             .                                   .</span><br><span class="line">.             .                                   .</span><br><span class="line">. . . . . . . . . . . . . . . . . . . . . . . . . .</span><br><span class="line"></span><br><span class="line">. . 400px . . . . . . . . . . 966px . . . . . . . .</span><br><span class="line">.             .                                   .</span><br><span class="line">.  28% x 50%  .                                   .</span><br><span class="line">.  terminal   .              editor               .</span><br><span class="line">. . . . . . . .            72% x 100%             .</span><br><span class="line">.             .                                   .</span><br><span class="line">.  28% x 50%  .                                   .</span><br><span class="line">.  terminal   .                                   .</span><br><span class="line">. . . . . . . . . . . . . . . . . . . . . . . . . .</span><br><span class="line"></span><br><span class="line">. . . . . . 820px . . . . . . . . . . 546px . . . .</span><br><span class="line">.                            .                    .</span><br><span class="line">.                            .                    .</span><br><span class="line">.       editor/browser       .   editor/browser   .</span><br><span class="line">.         60% x 100%         .     40% x 100%     .</span><br><span class="line">.                            .                    .</span><br><span class="line">.                            .                    .</span><br><span class="line">.                            .                    .</span><br><span class="line">. . . . . . . . . . . . . . . . . . . . . . . . . .</span><br><span class="line"></span><br><span class="line">. . . . . . . . . . . 1366px. . . . . . . . . . . .</span><br><span class="line">.                                                 .</span><br><span class="line">.                      editor                     .</span><br><span class="line">.                    72% x 100%                   .</span><br><span class="line">.                                                 .</span><br><span class="line">.                                                 .</span><br><span class="line">. . . . . . . . . . . . . . . . . . . . . . . . . .</span><br><span class="line">.               terminal  100% x 28%              .</span><br><span class="line">. . . . . . . . . . . . . . . . . . . . . . . . . .</span><br><span class="line"></span><br><span class="line">. . . . . . . . . . . 1366px. . . . . . . . . . . .</span><br><span class="line">.    ================ 1011px ================     .</span><br><span class="line">.    .                                      .     .</span><br><span class="line">.    .                                      .     .</span><br><span class="line">.    .        editor/browser/terminal       .     .</span><br><span class="line">.    .               74% x 74%              .     .</span><br><span class="line">.    .                                      .     .</span><br><span class="line">.    ........................................     .</span><br><span class="line">. . . . . . . . . . . . . . . . . . . . . . . . . .</span><br></pre></td></tr></table></figure><p>This allows me to quickly tile a new window to the left 60% of my screen with <kbd>Super</kbd>+<kbd>Left</kbd>, open another one and tile it to 40% right with <kbd>Super</kbd>+<kbd>Right</kbd>.</p><p>If I want to move it, I can center the window and turn the window decorations back on with <kbd>Super</kbd>+<kbd>Alt</kbd>+<kbd>Up</kbd>, or hold <kbd>Alt</kbd> and drag it with my mouse.</p><h2 id="the-python-script">The Python Script</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/bin/python2.7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tiling.py</span></span><br><span class="line"><span class="comment"># Simple tiling for GTK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> gtk.gdk <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"></span><br><span class="line">TITLE_BAR = <span class="number">22</span>  <span class="comment"># Put the height of your title bar here</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Parse the command line arguments</span></span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser(description=<span class="string">"Simple tiling for GTK"</span>)</span><br><span class="line">parser.add_argument(<span class="string">"w"</span>, type=int,</span><br><span class="line">                    help=<span class="string">"Frame width (in percentage of screen width)"</span>)</span><br><span class="line">parser.add_argument(<span class="string">"h"</span>, type=int,</span><br><span class="line">                    help=<span class="string">"Frame height (in percentage of screen height)"</span>)</span><br><span class="line">parser.add_argument(<span class="string">"x"</span>, type=int,</span><br><span class="line">                    help=<span class="string">"Frame x coordinate (in percentage of screen width)"</span>)</span><br><span class="line">parser.add_argument(<span class="string">"y"</span>, type=int,</span><br><span class="line">                    help=<span class="string">"Frame y coordinate (in percentage of screen height)"</span>)</span><br><span class="line">parser.add_argument(<span class="string">"-d"</span>, type=int, choices=[<span class="number">0</span>, <span class="number">1</span>], default=<span class="number">1</span>,</span><br><span class="line">                    help=<span class="string">"1 for window decorations, 0 for none"</span>)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line"></span><br><span class="line">win = window_foreign_new((get_default_root_window()</span><br><span class="line">                          .property_get(<span class="string">'_NET_ACTIVE_WINDOW'</span>)[<span class="number">2</span>][<span class="number">0</span>]))</span><br><span class="line">state = win.property_get(<span class="string">'_NET_WM_STATE'</span>)[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the screen's width and height</span></span><br><span class="line"></span><br><span class="line">screen_width = screen_width()</span><br><span class="line">screen_height = screen_height()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Calculate the frame dimensions and location in pixels</span></span><br><span class="line"></span><br><span class="line">w = int(round(args.w / <span class="number">100.0</span> * screen_width))</span><br><span class="line">h = int(round(args.h / <span class="number">100.0</span> * screen_height))</span><br><span class="line">x = int(round(args.x / <span class="number">100.0</span> * screen_width))</span><br><span class="line">y = int(round(args.y / <span class="number">100.0</span> * screen_height))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check whether decorations are desired</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> args.d == <span class="number">1</span>:</span><br><span class="line">    win.set_decorations(DECOR_TITLE)  <span class="comment"># or DECOR_ALL for all decorations</span></span><br><span class="line">    win.move_resize(x, y, w, (h - TITLE_BAR))</span><br><span class="line"><span class="keyword">if</span> args.d == <span class="number">0</span>:</span><br><span class="line">    win.set_decorations(<span class="number">0</span>)</span><br><span class="line">    win.move_resize(x, y, w, h)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Apply changes to window</span></span><br><span class="line"></span><br><span class="line">window_process_all_updates()</span><br><span class="line">flush()</span><br></pre></td></tr></table></figure><p>To download, just copy/paste the thing, save the repo as a zip or run <code>git clone https://github.com/sjaakvandenberg/gtk-tiling.git</code>. You’ll also need <code>python2</code>, and <code>pygtk</code>.</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ ./tiling.py -h</span><br><span class="line">usage: tiling.py [-h] [-d &#123;0,1&#125;] w h x y</span><br><span class="line"></span><br><span class="line">Simple tiling for GTK</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  w           Frame width (in percentage of screen width)</span><br><span class="line">  h           Frame height (in percentage of screen height)</span><br><span class="line">  x           Frame x coordinate (in percentage of screen width)</span><br><span class="line">  y           Frame y coordinate (in percentage of screen height)</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help  show this help message and exit</span><br><span class="line">  -d &#123;0,1&#125;    1 for window decorations, 0 for none</span><br></pre></td></tr></table></figure><p>Make sure to give the script executable permissions with <code>chmod +x tiling.py</code>. To see it in use, here’s a <a href="https://vimeo.com/133853415" target="_blank" rel="external">video walkthrough</a>.</p><p>Happy tiling!</p></article><section id="comments"><h2>Comments<div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus</a>.</noscript></div></h2></section></main><script async>(function(h,g,l,k,j,i){j=h.createElement(g),i=h.getElementsByTagName(g)[0],
j.src = '//' + l + '.disqus.com/' + k + '.js', i.parentNode.insertBefore(j, i)})
(document,'script','svdbco','embed');
</script><script async>var disqus_shortname = 'svdbco';
(function () {
var s = document.createElement('script'); s.async = true;
s.type = 'text/javascript';
s.src = '//' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
}());
</script></body></html>